{
  "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "obj1": {
      "type": "object",
      "defaultValue": {
        "propA": "one",
        "propB": "two",
        "propC": "three",
        "propD": {
          "propD-1": "sub",
          "propD-2": "sub"
        }
      }
    },
    "par1": {
      "type": "string",
      "allowedValues": ["westeurope", "eastus", "westus"],
      "defaultValue": "westeurope"
    },
    "resourceTags": {
      "type": "object",
      "defaultValue": {
        "Environment": "GP",
        "Project": "Microsoft GP 2024"
      }
    }
  },
  "variables": {
    "var1": "westus",
    "centralus": "westeurope"
  },
  "resources": [
    {
      "type": "Microsoft.Resources/resourceGroups",
      "apiVersion": "2018-05-01",
      "location": "westeurope",
      "tags": "[parameters('resourceTags')]",
      "name": "[concat('IRGS', copyIndex())]",
      "copy": {
        "name": "copy",
        "count": 2
      }
    },
    {
      "type": "Microsoft.Resources/resourceGroups",
      "apiVersion": "2018-05-01",
      "location": "westeurope",
      "tags": "[parameters('resourceTags')]",
      "name": "[concat('IResGrp', 18)]"
    },
    {
      "type": "Microsoft.Resources/resourceGroups",
      "apiVersion": "2018-05-01",
      "location": "westeurope",
      "tags": "[parameters('resourceTags')]",
      "name": "[concat('IRGroup', length(parameters('obj1')))]"
    }
  ],
  "outputs": {}
}
